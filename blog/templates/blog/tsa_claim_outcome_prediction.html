{% extends 'blog/base.html' %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
    <body>

        
            <div class="row">
                <div class="col-11 pb-1 text-left mx-auto">
                    {% block content %}
                    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
                    <!-- <script src="https://d3js.org/d3.v3.min.js"></script> -->
                    <script src="https://cdn.jsdelivr.net/npm/vega@4.3.0"></script>
                    <script src="https://cdn.jsdelivr.net/npm/vega-lite@3.0.0-rc0"></script>
                    <script src="https://cdn.jsdelivr.net/npm/vega-embed@3.24.1"></script>
                  
                    <!-- <script src="https://vega.github.io/datalib/datalib.min.js"></script> -->
                    <script src="../../static/js/plot.js"></script>

                    <script>

                        $('#submit').click( () => { cool(); } );
                        
                        function cool(){
                            let features = {
                            'airport_code': $('select[name=airports]').val(),
                            'airline': $('select[name=airlines]').val(),
                            'claim_type': $('select[name=claim_types]').val(),
                            'claim_site': $('select[name=claim_sites]').val(),
                            'item_category': $('select[name=item_cats]').val(),
                            'days_waited_to_file_claim': '3',
                            'Month_inc_date': $('select[name=months]').val()
                            }
                            console.log(features);
                        
                        
                            $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "/do_prediction_multiple_days/",  // Replace with URL of POST handler
                            dataType: "json",
                            async: true,
                            data: JSON.stringify(features),
                            success: (result) => processResult(result),
                            error: (result) => {
                                alert('Error. Check the source code.');
                            }
                            });
                        }
                        </script>

                    {% endblock content %}
                </div>
            </div>
        {% endblock header-setup %}
        </div>

        

        {% block plugins %}
        <!-- Javascript and jquery plugins -->
        <!-- <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script> -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

        {% endblock plugins %}
    </body>
</html>

